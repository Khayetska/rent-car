"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[684],{65:function(e,n,t){t.d(n,{Z:function(){return de}});var a=t(439),r=t(433),s=t(791),c="CarItem_carItem__peU5j",i="CarItem_infoWrapper__ypM1R",o="CarItem_basicInfo__0ECZx",l="CarItem_carTitle__1ussX",u="CarItem_carTitleAccent__zeMR4",d="CarItem_extraInfo__87Rj7",m="CarItem_extraInfoText__wIzKC",f="CarItem_moreInfoButton__+11p3",_="ModalWindow_backdrop__uHatM",p="ModalWindow_open__HmxZK",h="ModalWindow_modal__oBSLx",x="ModalWindow_closeButton__UMzUb",v="ModalWindow_closeButtonIcon__rzcMB",j="ModalWindow_carImg__UNG7u",g="ModalWindow_carTitle__aXvFu",I="ModalWindow_extraInfoText__OmsDH",N="ModalWindow_carDescription__YFcKI",w="ModalWindow_carSybTitle__umm3Q",C="ModalWindow_conditionsList__5uIE-",b="ModalWindow_conditionsItem__8tm0R",k="ModalWindow_rentalButton__ZaufS",y=t.p+"static/media/placeholder.812d057bb23f080130a7.jpeg",S=t(820),Z=t(184),M=_,W=p,T=h,E=x,L=v,z=j,B=g,O=I,R=N,F=w,J=C,P=b,U=k;function H(e){var n=e.isOpen,t=void 0!==n&&n,r=e.onClose,c=e.car,i=c.id,o=c.year,l=c.make,u=c.model,d=c.type,m=c.img,f=c.description,_=c.accessories,p=c.functionalities,h=c.rentalPrice,x=c.engineSize,v=c.fuelConsumption,j=c.rentalConditions,g=c.address,I=c.mileage;(0,s.useEffect)((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow="unset"}}),[]),(0,s.useEffect)((function(){var e=function(e){"Escape"===e.code&&r()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[r]);var N=j.split("\n"),w=N[0].split(": "),C=(0,a.Z)(w,2),b=C[0],k=C[1],H=g.split(","),K=(0,a.Z)(H,3),A=K[1],D=K[2],Y=t?"".concat(M," ").concat(W):M;return(0,Z.jsx)("div",{className:Y,onClick:function(e){e.currentTarget===e.target&&r()},children:(0,Z.jsxs)("div",{className:T,children:[(0,Z.jsx)("button",{className:E,type:"button",onClick:r,children:(0,Z.jsx)(S.oHP,{size:20,className:L})}),(0,Z.jsx)("img",{src:null!==m&&void 0!==m?m:y,alt:m?"View of the car for rent":"There is no available image",className:z}),(0,Z.jsxs)("h3",{className:B,children:[l," ",(0,Z.jsx)("span",{children:u}),", ",o]}),(0,Z.jsxs)("ul",{children:[(0,Z.jsxs)("li",{className:O,children:[A," | ",D," | Id: ",i," | Year: ",o," | Type: ",d]}),(0,Z.jsxs)("li",{className:O,children:["Fuel Consumption: ",v," | Engine Size: ",x]})]}),(0,Z.jsx)("p",{className:R,children:f}),(0,Z.jsx)("h4",{className:F,children:"Accessories and functionalities:"}),(0,Z.jsxs)("ul",{children:[(0,Z.jsxs)("li",{className:O,children:[_.map((function(e,n){return n!==_.length-1?"".concat(e," | "):e}))," "]}),(0,Z.jsx)("li",{className:O,children:p.map((function(e,n){return n!==_.length-1?"".concat(e," | "):e}))})]}),(0,Z.jsx)("h4",{className:F,children:"Rental Conditions:"}),(0,Z.jsxs)("ul",{className:J,children:[(0,Z.jsxs)("li",{className:P,children:[b,": ",(0,Z.jsx)("span",{children:k})]}),N.map((function(e,n){return 0!==n&&(0,Z.jsx)("li",{className:P,children:e},e)})),(0,Z.jsxs)("li",{className:P,children:["Mileage: ",(0,Z.jsx)("span",{children:Intl.NumberFormat("en").format(I)})]}),(0,Z.jsxs)("li",{className:P,children:["Price: ",(0,Z.jsxs)("span",{children:[h.split("$"),"$"]})]})]}),(0,Z.jsx)("a",{href:"tel:+380730000000",className:U,children:"Rental car"})]})})}var K="CarItemImg_carImgWrapper__TAdII",A="CarItemImg_carImg__+2kig",D="CarItemImg_carImgOverlay__Pzgr-",Y="CarItemImg_favoriteBtn__DBIvK",q="CarItemImg_favoriteIcon__uNBs2",G=t(856),V=K,X=A,$=D,Q=Y,ee=q,ne=c,te=i,ae=o,re=l,se=u,ce=d,ie=m,oe=f;function le(e){var n=e.car,t=e.onToggle,c=e.favCars,i=(0,s.useState)(!1),o=(0,a.Z)(i,2),l=o[0],u=o[1],d=(0,s.useState)(!1),m=(0,a.Z)(d,2),f=m[0],_=m[1],p=n.id,h=n.year,x=n.make,v=n.model,j=n.type,g=n.img,I=n.functionalities,N=n.rentalPrice,w=n.rentalCompany,C=n.address,b=n.mileage;(0,s.useEffect)((function(){JSON.parse(localStorage.getItem("favorites")).map((function(e){return e.id===p&&_(!0),!0}))}),[p]);var k=C.split(","),S=(0,a.Z)(k,3),M=S[1],W=S[2],T=function(){u(!l)};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("li",{className:ne,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("div",{className:V,children:[(0,Z.jsx)("img",{src:null!==g&&void 0!==g?g:y,className:X,alt:g?"View of the car for rent":"There is no available image"}),(0,Z.jsx)("div",{className:$}),(0,Z.jsx)("button",{className:Q,onClick:function(){if(_(!f),f||t((function(e){return[].concat((0,r.Z)(e),[n])})),c.map((function(e){return e.id})).includes(p)){var e=JSON.parse(localStorage.getItem("favorites")).filter((function(e){return e.id!==p}));localStorage.setItem("favorites",JSON.stringify(e)),0===e.length&&localStorage.removeItem("favorites"),t((function(e){return e.filter((function(e){return e.id!==p}))})),_(!1)}},children:f?(0,Z.jsx)(G.Yqy,{size:20,className:ee}):(0,Z.jsx)(G.iqB,{size:20,color:"#fff"})})]}),(0,Z.jsxs)("div",{className:te,children:[(0,Z.jsxs)("div",{className:ae,children:[(0,Z.jsxs)("h3",{className:re,children:[x," ",v.length>12||x.length>12?(0,Z.jsx)("br",{}):"",(0,Z.jsx)("span",{className:se,children:v}),", ",h]}),(0,Z.jsx)("p",{className:re,children:N})]}),(0,Z.jsxs)("div",{className:ce,children:[(0,Z.jsxs)("p",{className:ie,children:[M," | ",W," | ",w]}),(0,Z.jsxs)("p",{className:ie,children:[j," | ",v," | ",b," |"," ",I[0].length>25?"".concat(I[0].slice(0,25),"..."):I[0]]})]})]})]}),(0,Z.jsx)("button",{className:oe,onClick:T,children:"Learn more"})]}),l&&(0,Z.jsx)(H,{isOpen:l,onClose:T,car:n})]})}var ue="CarsList_carsList__1WELz";function de(e){var n=e.cars,t=(0,s.useState)((function(){var e;return null!==(e=JSON.parse(localStorage.getItem("favorites")))&&void 0!==e?e:[]})),r=(0,a.Z)(t,2),c=r[0],i=r[1];return(0,s.useEffect)((function(){localStorage.setItem("favorites",JSON.stringify(c))}),[c]),(0,Z.jsx)("section",{children:(0,Z.jsx)("ul",{className:ue,children:n&&n.map((function(e,n){return(0,Z.jsx)(le,{car:e,onToggle:i,favCars:c},e.id+"".concat(n))}))})})}},828:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var a=t(433),r=t(861),s=t(439),c=t(757),i=t.n(c),o=t(791),l=t(65),u=t(243);u.Z.defaults.baseURL="https://650179c8736d26322f5bbf63.mockapi.io";var d=function(){var e=(0,r.Z)(i().mark((function e(n){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/advert?page=".concat(n,"&limit=8"));case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/advert");case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=t(184);function _(e){var n=e.onClick;return(0,f.jsx)("button",{onClick:n,className:"LoadMore_button__iSGlL",type:"button",children:"Load more"})}function p(){var e=(0,o.useState)([]),n=(0,s.Z)(e,2),t=n[0],c=n[1],u=(0,o.useState)(1),p=(0,s.Z)(u,2),h=p[0],x=p[1],v=(0,o.useState)(!0),j=(0,s.Z)(v,2),g=j[0],I=j[1];(0,o.useEffect)((function(){function e(){return(e=(0,r.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(h);case 3:return n=e.sent,e.next=6,m();case 6:t=e.sent,c((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(n))})),h===t.length/8&&I(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[h]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.Z,{cars:t}),g&&(0,f.jsx)(_,{onClick:function(){x((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=684.50514553.chunk.js.map