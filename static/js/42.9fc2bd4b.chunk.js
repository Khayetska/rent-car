"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[42],{65:function(e,a,n){n.d(a,{Z:function(){return me}});var l=n(439),t=n(433),r=n(791),s="CarItem_carItem__peU5j",i="CarItem_infoWrapper__ypM1R",c="CarItem_basicInfo__0ECZx",o="CarItem_carTitle__1ussX",u="CarItem_carTitleAccent__zeMR4",d="CarItem_extraInfo__87Rj7",m="CarItem_extraInfoText__wIzKC",f="CarItem_moreInfoButton__+11p3",v="ModalWindow_backdrop__uHatM",_="ModalWindow_open__HmxZK",h="ModalWindow_modal__oBSLx",b="ModalWindow_closeButton__UMzUb",p="ModalWindow_closeButtonIcon__rzcMB",x="ModalWindow_carImg__UNG7u",j="ModalWindow_carTitle__aXvFu",g="ModalWindow_extraInfoText__OmsDH",N="ModalWindow_carDescription__YFcKI",I="ModalWindow_carSybTitle__umm3Q",C="ModalWindow_conditionsList__5uIE-",w="ModalWindow_conditionsItem__8tm0R",y="ModalWindow_rentalButton__ZaufS",k=n.p+"static/media/placeholder.812d057bb23f080130a7.jpeg",S=n(820),Z=n(184),M=v,F=_,B=h,W=b,z=p,E=x,L=j,T=g,P=N,R=I,O=C,K=w,H=y;function U(e){var a=e.isOpen,n=void 0!==a&&a,t=e.onClose,s=e.car,i=s.id,c=s.year,o=s.make,u=s.model,d=s.type,m=s.img,f=s.description,v=s.accessories,_=s.functionalities,h=s.rentalPrice,b=s.engineSize,p=s.fuelConsumption,x=s.rentalConditions,j=s.address,g=s.mileage;(0,r.useEffect)((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow="unset"}}),[]),(0,r.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]);var N=x.split("\n"),I=N[0].split(": "),C=(0,l.Z)(I,2),w=C[0],y=C[1],U=j.split(","),A=(0,l.Z)(U,3),G=A[1],J=A[2],Y=n?"".concat(M," ").concat(F):M;return(0,Z.jsx)("div",{className:Y,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,Z.jsxs)("div",{className:B,children:[(0,Z.jsx)("button",{className:W,type:"button",onClick:t,children:(0,Z.jsx)(S.oHP,{size:20,className:z})}),(0,Z.jsx)("img",{src:null!==m&&void 0!==m?m:k,alt:m?"View of the car for rent":"There is no available image",className:E}),(0,Z.jsxs)("h3",{className:L,children:[o," ",(0,Z.jsx)("span",{children:u}),", ",c]}),(0,Z.jsxs)("ul",{children:[(0,Z.jsxs)("li",{className:T,children:[G," | ",J," | Id: ",i," | Year: ",c," | Type: ",d]}),(0,Z.jsxs)("li",{className:T,children:["Fuel Consumption: ",p," | Engine Size: ",b]})]}),(0,Z.jsx)("p",{className:P,children:f}),(0,Z.jsx)("h4",{className:R,children:"Accessories and functionalities:"}),(0,Z.jsxs)("ul",{children:[(0,Z.jsxs)("li",{className:T,children:[v.map((function(e,a){return a!==v.length-1?"".concat(e," | "):e}))," "]}),(0,Z.jsx)("li",{className:T,children:_.map((function(e,a){return a!==v.length-1?"".concat(e," | "):e}))})]}),(0,Z.jsx)("h4",{className:R,children:"Rental Conditions:"}),(0,Z.jsxs)("ul",{className:O,children:[(0,Z.jsxs)("li",{className:K,children:[w,": ",(0,Z.jsx)("span",{children:y})]}),N.map((function(e,a){return 0!==a&&(0,Z.jsx)("li",{className:K,children:e},e)})),(0,Z.jsxs)("li",{className:K,children:["Mileage: ",(0,Z.jsx)("span",{children:Intl.NumberFormat("en").format(g)})]}),(0,Z.jsxs)("li",{className:K,children:["Price: ",(0,Z.jsxs)("span",{children:[h.split("$"),"$"]})]})]}),(0,Z.jsx)("a",{href:"tel:+380730000000",className:H,children:"Rental car"})]})})}var A="CarItemImg_carImgWrapper__TAdII",G="CarItemImg_carImg__+2kig",J="CarItemImg_carImgOverlay__Pzgr-",Y="CarItemImg_favoriteBtn__DBIvK",D="CarItemImg_favoriteIcon__uNBs2",V=n(856),$=A,q=G,X=J,Q=Y,ee=D,ae=s,ne=i,le=c,te=o,re=u,se=d,ie=m,ce=f;function oe(e){var a=e.car,n=e.onToggle,s=e.favCars,i=(0,r.useState)(!1),c=(0,l.Z)(i,2),o=c[0],u=c[1],d=(0,r.useState)(!1),m=(0,l.Z)(d,2),f=m[0],v=m[1],_=a.id,h=a.year,b=a.make,p=a.model,x=a.type,j=a.img,g=a.functionalities,N=a.rentalPrice,I=a.rentalCompany,C=a.address,w=a.mileage;(0,r.useEffect)((function(){JSON.parse(localStorage.getItem("favorites")).map((function(e){return e.id===_&&v(!0),!0}))}),[_]);var y=C.split(","),S=(0,l.Z)(y,3),M=S[1],F=S[2],B=function(){u(!o)};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("li",{className:ae,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("div",{className:$,children:[(0,Z.jsx)("img",{src:null!==j&&void 0!==j?j:k,className:q,alt:j?"View of the car for rent":"There is no available image"}),(0,Z.jsx)("div",{className:X}),(0,Z.jsx)("button",{className:Q,onClick:function(){if(v(!f),f||n((function(e){return[].concat((0,t.Z)(e),[a])})),s.map((function(e){return e.id})).includes(_)){var e=JSON.parse(localStorage.getItem("favorites")).filter((function(e){return e.id!==_}));localStorage.setItem("favorites",JSON.stringify(e)),0===e.length&&localStorage.removeItem("favorites"),n((function(e){return e.filter((function(e){return e.id!==_}))})),v(!1)}},children:f?(0,Z.jsx)(V.Yqy,{size:20,className:ee}):(0,Z.jsx)(V.iqB,{size:20,color:"#fff"})})]}),(0,Z.jsxs)("div",{className:ne,children:[(0,Z.jsxs)("div",{className:le,children:[(0,Z.jsxs)("h3",{className:te,children:[b," ",p.length>12||b.length>12?(0,Z.jsx)("br",{}):"",(0,Z.jsx)("span",{className:re,children:p}),", ",h]}),(0,Z.jsx)("p",{className:te,children:N})]}),(0,Z.jsxs)("div",{className:se,children:[(0,Z.jsxs)("p",{className:ie,children:[M," | ",F," | ",I]}),(0,Z.jsxs)("p",{className:ie,children:[x," | ",p," | ",w," |"," ",g[0].length>25?"".concat(g[0].slice(0,25),"..."):g[0]]})]})]})]}),(0,Z.jsx)("button",{className:ce,onClick:B,children:"Learn more"})]}),o&&(0,Z.jsx)(U,{isOpen:o,onClose:B,car:a})]})}var ue="CarsList_carsList__1WELz",de=n(409);function me(e){var a=e.cars,n=(0,r.useState)((function(){var e;return null!==(e=JSON.parse(localStorage.getItem("favorites")))&&void 0!==e?e:[]})),t=(0,l.Z)(n,2),s=t[0],i=t[1];return(0,r.useEffect)((function(){localStorage.setItem("favorites",JSON.stringify(s))}),[s]),(0,Z.jsx)("section",{children:(0,Z.jsx)(de.Z,{children:(0,Z.jsx)("ul",{className:ue,children:a&&a.map((function(e,a){return(0,Z.jsx)(oe,{car:e,onToggle:i,favCars:s},e.id+"".concat(a))}))})})})}},710:function(e,a,n){n.r(a),n.d(a,{default:function(){return k}});var l=n(433),t=n(861),r=n(439),s=n(687),i=n.n(s),c=n(791),o=n(65),u=n(243);u.Z.defaults.baseURL="https://650179c8736d26322f5bbf63.mockapi.io";var d=function(){var e=(0,t.Z)(i().mark((function e(a){var n,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/advert?page=".concat(a,"&limit=8"));case 2:return n=e.sent,l=n.data,e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),m=function(){var e=(0,t.Z)(i().mark((function e(){var a,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/advert");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=n(184);function v(e){var a=e.onClick;return(0,f.jsx)("button",{onClick:a,className:"LoadMore_button__iSGlL",type:"button",children:"Load more"})}var _=n(413),h=n(7),b="Filter_section__YPG8d",p="Filter_filterForm__fEGzP",x="Filter_select__fxCkI",j="Filter_selectCost__2SSm7",g="Filter_filterLabel__slSKo",N="Filter_searchButton__9K0NE",I=[{value:"buick",label:"Buick"},{value:"volvo",label:"Volvo"},{value:"hummer",label:"HUMMER"},{value:"subaru",label:"Subaru"},{value:"mitsubishi",label:"Mitsubishi"},{value:"nissan",label:"Nissan"},{value:"lincoln",label:"Lincoln"},{value:"gmc",label:"GMC"},{value:"hyundai",label:"Hyundai"},{value:"mini",label:"MINI"},{value:"bentley",label:"Bentley"},{value:"mercedes-benz",label:"Mercedes-Benz"},{value:"aston martin",label:"Aston Martin"},{value:"pontiac",label:"Pontiac"},{value:"lamborghini",label:"Lamborghini"},{value:"audi",label:"Audi"},{value:"bmw",label:"BMW"},{value:"chevrolet",label:"Chevrolet"},{value:"mercedes-benz",label:"Mercedes-Benz"},{value:"chrysler",label:"Chrysler"},{value:"kia",label:"Kia"},{value:"land",label:"Land"}],C=[{value:"40",label:"40"},{value:"50",label:"50"},{value:"60",label:"60"},{value:"70",label:"70"},{value:"80",label:"80"},{value:"90",label:"90"},{value:"100",label:"100"},{value:"110",label:"110"},{value:"120",label:"120"},{value:"130",label:"130"},{value:"140",label:"140"},{value:"150",label:"150"},{value:"160",label:"160"},{value:"170",label:"170"},{value:"180",label:"180"},{value:"190",label:"190"},{value:"200",label:"200"},{value:"250",label:"250"},{value:"300",label:"300"},{value:"500",label:"500"}],w={option:function(e,a){return(0,_.Z)((0,_.Z)({},e),{},{color:a.isSelected?"#121417":"#12141733",backgroundColor:a.isFocused?"#F7F7FB":"#fff",borderRadius:"14px"})},control:function(e){return(0,_.Z)((0,_.Z)({},e),{},{backgroundColor:"#F7F7FB",padding:"6px 10px",border:"none",borderRadius:"14px",boxShadow:"none",color:"#121417"})}};function y(){return(0,f.jsx)("section",{className:b,children:(0,f.jsxs)("form",{className:p,children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"brand",className:g,children:"Car brand"}),(0,f.jsx)(h.ZP,{options:I,className:"".concat(x),styles:w,name:"brand",placeholder:"Enter the text"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"cost",className:g,children:"Price/ 1 hour"}),(0,f.jsx)(h.ZP,{options:C,className:"".concat(x," ").concat(j),styles:w,name:"cost",placeholder:"To $"})]}),(0,f.jsx)("div",{children:(0,f.jsx)("label",{className:g,children:"\u0421ar mileage / km"})}),(0,f.jsx)("button",{type:"submit",className:N,children:"Search"})]})})}function k(){var e=(0,c.useState)([]),a=(0,r.Z)(e,2),n=a[0],s=a[1],u=(0,c.useState)(1),_=(0,r.Z)(u,2),h=_[0],b=_[1],p=(0,c.useState)(!0),x=(0,r.Z)(p,2),j=x[0],g=x[1];(0,c.useEffect)((function(){function e(){return(e=(0,t.Z)(i().mark((function e(){var a,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(h);case 3:return a=e.sent,e.next=6,m();case 6:n=e.sent,s((function(e){return[].concat((0,l.Z)(e),(0,l.Z)(a))})),h===n.length/8&&g(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[h]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(y,{}),(0,f.jsx)(o.Z,{cars:n}),j&&(0,f.jsx)(v,{onClick:function(){b((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=42.9fc2bd4b.chunk.js.map